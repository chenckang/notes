# 函数与程序结构

## 外部变量

外部变量：在函数外部声明的变量
内部变量：在函数内部声明的变量

extern：如果要在外部连梁定义之前使用该变量，或者外部变量的定义和使用不在同一个源文件中，那么在变量声明时必须强制使用关键字extern。

外部便令只能在某个文件中定义一次，而其他文件中可以通过extern声明来访问它，外部变量定义中必须制定数组的长度，但extern声明则不一定要指定数组长度。

## 静态变量

通过static限定外部变量可以达到隐藏外部对象的目的，这样这些对象只能被当前文件访问，也就无法和其他文件的变量产生冲突。

也可以将函数声明为static这样，函数也就对其他文件不可见。

当用static声明内部变量时，除了只对该函数可见外，与普通的自动变量的不动点在于，无论函数是否被调用，变量一直存在，也就是会一直占用存储空间。

## 寄存器变量

变量在程序中的使用频率较高，将变量放入寄存器中，加快运行速度，但编译器可以忽略这个选项。

```
register int x;
register char c;
```

register只适用于自动变量以及函数的形式参数。

## 预处理器

编译过程中单独执行的第一步，常用的指令为：#include以及#define

### 包含

预发：#include "" #include <>

前者为按路径包含文件，后者为在配置的地方寻找文件包含。

### 宏定义

替换文本

```
#define forever for(;;)
```

带参数

```
#define max(A, B) ((A) > (B) ? (A) : (B))

x = max(p + q, r + s); // 则被替换为((p + q) > (r + s) ? (p + q) : (r + s))
```

### 条件包含

语法：#if #elif #else #endif

对表达式的值求值，如果值不等于0，则包含其后面的各行。

```
#if !defined(HDR)
#define HDR
#endif
```

以及专门的预处理语句：#ifdef #ifndef

等同于上面第一句
